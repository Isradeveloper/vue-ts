import{B as _,g as u}from"./ButtonPagination-XC2ZKK7T.js";import{f,w as g,j as m,d as y,g as b,c as n,a as e,F as w,r as v,u as a,h as p,m as q,o as c,n as k,l as C,p as B,t as i}from"./index-IxZdlAz-.js";import{u as N,a as P}from"./get-product-image.action-Cht4SqX-.js";const F=d=>{const l=m(),t=f(Number(l.query.page||1));return g(()=>l.query.page,o=>{var r;console.log(o),t.value=Number(o||1),(r=document.querySelector(d))==null||r.scrollTo({top:0,behavior:"smooth"})}),{page:t}},L={class:"bg-white px-5 py-2 rounded"},T=e("h1",{class:"text-3xl"},"Productos",-1),V={class:"py-8 w-full"},j={class:"shadow overflow-hidden rounded border-b border-gray-200"},Q={class:"min-w-full bg-white"},R=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Imagen"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"TÃ­tulo"),e("th",{class:"w-28 text-left py-3 px-4 uppercase font-semibold text-sm"},"Precio"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Tallas")])],-1),z={class:"text-gray-700"},E={class:"text-left py-3 px-4"},K=["src","alt"],S={class:"text-left py-3 px-4"},A={class:"text-left py-3 px-4"},D={class:"bg-sky-200 text-sky-600 px-4 py-0.5 rounded-full text-xs"},I={class:"text-left py-3 px-4"},$={class:"bg-indigo-200 text-indigo-600 px-4 py-0.5 rounded-full text-xs"},U=y({__name:"ProductsView",setup(d){const l=N(),{page:t}=F(".flex-grow.p-6.overflow-auto.bg-gray-200"),{data:o,isLoading:r}=P({queryKey:["products",{page:t}],queryFn:()=>u(t.value)});return b(()=>{l.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>u(t.value+1)})}),(G,H)=>{const x=q("RouterLink");return c(),n("div",L,[T,e("div",V,[e("div",j,[e("table",Q,[R,e("tbody",z,[(c(!0),n(w,null,v(a(o),(s,h)=>(c(),n("tr",{key:s.id,class:k({"bg-slate-100":h%2==0})},[e("td",E,[e("img",{src:s.images[0],alt:s.title,class:"h-10 w-10 object-cover"},null,8,K)]),e("td",S,[p(x,{class:"hover:text-blue-500 hover:underline",to:`/admin/products/${s.id}`},{default:C(()=>[B(i(s.title),1)]),_:2},1032,["to"])]),e("td",A,[e("span",D,i(s.price),1)]),e("td",I,[e("span",$,i(s.sizes.join(", ")),1)])],2))),128))])])])]),p(_,{page:a(t),"has-more-data":!!a(o)&&a(o).length<10,"is-first-page":a(t)===1},null,8,["page","has-more-data","is-first-page"])])}}});export{U as default};
